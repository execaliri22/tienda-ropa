<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tienda</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<header class="header">
  <div class="menu container">
    <a href="#" class="logo">logo</a>
    <input type="checkbox" id="menu">
    <label for="menu">
      <img src="images/menu.png" alt="menu" class="menu-icono">
    </label>
    <nav class="navbar">
      <ul>
        <li><a href="#">Servicio</a></li>
        <li><a href="productos.html">Productos</a></li>
        <!-- Perfil de usuario integrado en el navbar -->
        <li>
          <div class="user-profile-nav" id="userProfileNav">
            <img src="https://ui-avatars.com/api/?name=U&background=random" alt="Foto de perfil" id="userAvatarNav">
            <span id="userNameNav">Invitado</span>
          </div>
        </li>
      </ul>
    </nav>
  </div>

  <div class="header-content container">
    <div class="header-img">
      <img src="images/right.png" alt="Ofertas">
    </div>
    <div class="header-txt">
      <h1>Ofertas especiales</h1>
      <p>Aprovecha las mejores ofertas y vestite como te gusta</p>
      <a href="#" class="btn-1">Información</a>
    </div>
  </div>
</header>

<!-- Sección de usuario (oculta inicialmente) -->
<section class="user-section" id="userSection">
  <span class="close-btn" id="closeUserSection">&times;</span>
  
  <div class="user-header">
    <img src="https://ui-avatars.com/api/?name=U&background=random" alt="Foto de perfil" id="profileAvatar">
    <h2 id="profileName">Invitado</h2>
    <p>Email: <span id="userEmail">No disponible</span></p>
  </div>
  
  <ul class="user-menu">
    <li><a href="#"><i class="fas fa-user"></i> Mi perfil</a></li>
    <li><a href="#"><i class="fas fa-shopping-bag"></i> Mis pedidos</a></li>
    <li><a href="#"><i class="fas fa-heart"></i> Lista de deseos</a></li>
    <li><a href="#"><i class="fas fa-map-marker-alt"></i> Direcciones</a></li>
    <li><a href="#"><i class="fas fa-cog"></i> Configuración</a></li>
    <li><a href="#" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Cerrar sesión</a></li>
  </ul>
</section>

<!-- Resto del contenido... -->
<!-- El resto de tu contenido permanece igual -->
<section class="ofert container">
  <div class="ofert-1">
    <div class="ofert-img">
      <img src="images/f1.png" alt="">
    </div>
    <div class="ofert-txt">
      <h3>Producto 1</h3>
      <a href="#" class="btn-2">Información</a>
    </div>
  </div>

  <div class="ofert-1">
    <div class="ofert-img">
      <img src="images/f2.png" alt="">
    </div>
    <div class="ofert-txt">
      <h3>Producto 2</h3>
      <a href="#" class="btn-2">Información</a>
    </div>
  </div>

  <div class="ofert-1">
    <div class="ofert-img">
      <img src="images/f3.png" alt="">
    </div>
    <div class="ofert-txt">
      <h3>Producto 3</h3>
      <a href="#" class="btn-2">Información</a>
    </div>
  </div>
</section>

<section class="icons container">
  <div class="icon-1">
    <div class="icon-img"><img src="images/i1.svg" alt=""></div>
    <div class="icon-txt">
      <h3>Lorem ipsum dolor sit.</h3>
      <p>amet consecutor adipisicing elit</p>
    </div>
  </div>

  <div class="icon-1">
    <div class="icon-img"><img src="images/i2.svg" alt=""></div>
    <div class="icon-txt">
      <h3>Lorem ipsum dolor sit.</h3>
      <p>amet consecutor adipisicing elit</p>
    </div>
  </div>

  <div class="icon-1">
    <div class="icon-img"><img src="images/i3.svg" alt=""></div>
    <div class="icon-txt">
      <h3>Lorem ipsum dolor sit.</h3>
      <p>amet consecutor adipisicing elit</p>
    </div>
  </div>
</section>

<section class="blog container">
  <div class="blog-1">
    <img src="images/b1.jpg" alt="">
    <h3>Blog 1</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit...</p>
  </div>

  <div class="blog-1">
    <img src="images/b2.jpg" alt="">
    <h3>Blog 2</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit...</p>
  </div>

  <div class="blog-1">
    <img src="images/b3.jpg" alt="">
    <h3>Blog 3</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit...</p>
  </div>
</section>

<footer class="footer">
  <div class="footer-content container">
    <div class="link">
      <h3>Lorem</h3>
      <ul>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
      </ul>
    </div>
    <div class="link">
      <h3>Lorem</h3>
      <ul>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
      </ul>
    </div>
    <div class="link">
      <h3>Lorem</h3>
      <ul>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
        <li><a href="#">lorem</a></li>
      </ul>
    </div>
  </div>
</footer>


<script>
  // JavaScript para manejar la información del usuario
  document.addEventListener('DOMContentLoaded', function() {
    // Obtener información del usuario desde localStorage
    const userData = JSON.parse(localStorage.getItem('user'));
    
    if (userData) {
      // Actualizar la interfaz con los datos del usuario
      document.getElementById('userNameNav').textContent = userData.name;
      
      // Actualizar el panel de usuario
      document.getElementById('profileName').textContent = userData.name;
      document.getElementById('userEmail').textContent = userData.email;
      
      // Actualizar avatar con las iniciales del usuario
      const avatarUrl = `https://ui-avatars.com/api/?name=${encodeURIComponent(userData.name)}&background=random`;
      document.getElementById('userAvatarNav').src = avatarUrl;
      document.getElementById('profileAvatar').src = avatarUrl;
    } else {
      // Si no hay datos de usuario, redirigir al login
      window.location.href = "login.html";
    }

    // Resto del código para manejar la interacción del perfil de usuario
    const userProfileNav = document.getElementById('userProfileNav');
    const userSection = document.getElementById('userSection');
    const closeBtn = document.getElementById('closeUserSection');
    
    // Abrir sección de usuario
    userProfileNav.addEventListener('click', function() {
      userSection.classList.add('active');
    });
    
    // Cerrar sección de usuario
    closeBtn.addEventListener('click', function() {
      userSection.classList.remove('active');
    });
    
    // Cerrar al hacer clic fuera del panel
    document.addEventListener('click', function(event) {
      if (userSection.classList.contains('active') && 
          !userSection.contains(event.target) && 
          !userProfileNav.contains(event.target)) {
        userSection.classList.remove('active');
      }
    });
    
    // Cerrar con la tecla Escape
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape' && userSection.classList.contains('active')) {
        userSection.classList.remove('active');
      }
    });
  });

  // Función para cerrar sesión
  function logout() {
    localStorage.removeItem('user');
    window.location.href = "login.html";
  }
</script>

</body>
</html>